<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LRS via Private Service Connect &mdash; Setup Guide</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; background: #0a0e17; color: #c8d6e5; overflow-x: hidden; }

  .header { background: linear-gradient(135deg, #1a1f2e 0%, #0d1117 100%); padding: 20px 30px; border-bottom: 1px solid #2a3040; display: flex; align-items: center; gap: 16px; }
  .header h1 { font-size: 22px; color: #e8ecf1; font-weight: 600; }
  .header h1 span { color: #4ecdc4; }
  .header .back-link { font-size: 13px; color: #4a5568; text-decoration: none; }
  .header .back-link:hover { color: #4ecdc4; }

  .content { max-width: 1100px; margin: 0 auto; padding: 30px; }

  .section-label { font-size: 12px; color: #6b7b8d; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px; margin-top: 32px; }

  /* collapsible */
  .desc-toggle { display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 16px; background: #0d1117; border-radius: 8px; border-left: 3px solid #4ecdc4; margin-bottom: 4px; user-select: none; }
  .desc-toggle:hover { background: #111620; }
  .desc-toggle .arrow { font-size: 10px; color: #4ecdc4; transition: transform 0.2s; }
  .desc-toggle.open .arrow { transform: rotate(90deg); }
  .desc-toggle .toggle-title { font-size: 13px; font-weight: 600; color: #4ecdc4; }
  .desc-toggle .toggle-hint { font-size: 11px; color: #4a5568; margin-left: auto; }
  .desc-body { overflow: hidden; max-height: 0; transition: max-height 0.3s ease; }
  .desc-body.open { max-height: 4000px; }

  .intro { font-size: 14px; color: #6b7b8d; line-height: 1.8; padding: 16px; background: #0d1117; border-radius: 8px; border-left: 3px solid #4ecdc4; margin-bottom: 24px; }
  .intro strong { color: #c8d6e5; }

  /* step cards */
  .step-timeline { position: relative; padding: 0 0 0 40px; }
  .step-timeline::before { content: ''; position: absolute; left: 15px; top: 0; bottom: 0; width: 2px; background: linear-gradient(to bottom, #4ecdc4, #4ecdc440); }
  .step { position: relative; margin-bottom: 28px; }
  .step:last-child { margin-bottom: 0; }
  .step-dot { position: absolute; left: -33px; top: 12px; width: 28px; height: 28px; border-radius: 50%; border: 2px solid #4ecdc4; background: #0a0e17; color: #4ecdc4; font-size: 12px; font-weight: 700; display: flex; align-items: center; justify-content: center; z-index: 1; }
  .step-card { background: #111620; border: 1px solid #1e2738; border-radius: 10px; padding: 18px 22px; }
  .step-header { display: flex; align-items: baseline; gap: 10px; margin-bottom: 6px; flex-wrap: wrap; }
  .step-title { font-size: 15px; font-weight: 700; color: #e8ecf1; }
  .step-owner { font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; padding: 2px 8px; border-radius: 4px; }
  .owner-customer { color: #f9ca24; background: #1f1a0a; border: 1px solid #3d2e0a; }
  .owner-harmonic { color: #6c8cff; background: #121630; border: 1px solid #1e3a5f; }
  .owner-both { color: #4ecdc4; background: #0d1f1e; border: 1px solid #1a4040; }
  .step-desc { font-size: 13px; color: #6b7b8d; line-height: 1.7; margin-bottom: 12px; }
  .step-desc strong { color: #c8d6e5; }
  .step-desc code { font-family: 'SF Mono','Fira Code','Consolas',monospace; font-size: 12px; color: #4ecdc4; background: #1e2738; padding: 1px 5px; border-radius: 3px; }

  /* code blocks */
  .code-block { background: #0d1117; border: 1px solid #1e2738; border-radius: 8px; padding: 14px 16px; margin: 10px 0; font-family: 'SF Mono','Fira Code','Consolas',monospace; font-size: 12px; line-height: 1.7; color: #c8d6e5; overflow-x: auto; white-space: pre; }
  .code-block .comment { color: #4a5568; }
  .code-block .flag { color: #6c8cff; }
  .code-block .value { color: #4ecdc4; }
  .code-block .placeholder { color: #f9ca24; }

  /* info boxes */
  .info-box { font-size: 13px; color: #6b7b8d; line-height: 1.6; padding: 12px 16px; border-radius: 8px; margin: 10px 0; border: 1px solid; }
  .info-note { background: #121630; border-color: #1e3a5f; }
  .info-note strong { color: #6c8cff; }
  .info-warn { background: #1f1a0a; border-color: #3d2e0a; }
  .info-warn strong { color: #f9ca24; }
  .info-success { background: #0a1f1a; border-color: #0a3d2e; }
  .info-success strong { color: #00b894; }

  /* diagram */
  .diagram { background: #0d1117; border-radius: 12px; border: 1px solid #1e2738; padding: 24px; margin: 16px 0; overflow-x: auto; }
  .diagram-row { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; justify-content: center; margin-bottom: 8px; }
  .d-box { border: 1.5px solid; border-radius: 10px; padding: 12px 16px; text-align: center; min-width: 140px; }
  .d-box .d-title { font-size: 13px; font-weight: 700; margin-bottom: 2px; }
  .d-box .d-sub { font-size: 10px; color: #4a5568; }
  .d-arrow { font-size: 18px; color: #4ecdc4; flex-shrink: 0; }
  .d-label { font-size: 10px; text-align: center; padding: 3px 8px; border-radius: 4px; font-weight: 600; }

  /* checklist */
  .checklist { list-style: none; margin: 10px 0; }
  .checklist li { font-size: 13px; color: #6b7b8d; line-height: 1.7; padding: 4px 0 4px 24px; position: relative; }
  .checklist li::before { content: '\2610'; position: absolute; left: 0; color: #4ecdc4; font-size: 14px; }

  /* table */
  .ref-table { width: 100%; border-collapse: collapse; font-size: 13px; margin: 10px 0; }
  .ref-table th { text-align: left; padding: 8px 12px; background: #111620; color: #6b7b8d; font-weight: 700; border-bottom: 1px solid #1e2738; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; }
  .ref-table td { padding: 8px 12px; border-bottom: 1px solid #1e2738; color: #c8d6e5; }
  .ref-table tr:last-child td { border-bottom: none; }

  .footer { background: linear-gradient(135deg, #1a1f2e 0%, #0d1117 100%); padding: 16px 30px; border-top: 1px solid #2a3040; text-align: center; font-size: 12px; color: #4a5568; margin-top: 40px; }

  @media (max-width: 700px) {
    .step-timeline { padding-left: 30px; }
    .step-dot { left: -25px; width: 22px; height: 22px; font-size: 10px; }
    .step-timeline::before { left: 10px; }
    .diagram-row { flex-direction: column; }
    .d-arrow { transform: rotate(90deg); }
  }
</style>
</head>
<body>

<div class="header">
  <a href="index.html" class="back-link">&larr; Back</a>
  <h1><span>LRS via Private Service Connect</span> &mdash; Setup Guide</h1>
</div>

<div class="content">

  <!-- Overview -->
  <div class="intro">
    This guide details how to connect <strong>SRT sources</strong> in a customer GCP VPC to <strong>Harmonic LRS Cloud Source</strong> using <strong>Google Private Service Connect (PSC) — Endpoint model</strong> instead of VPC peering.
    <br><br>
    <strong>Architecture context:</strong> LRS runs in its own <strong>dedicated Harmonic VPC</strong> (separate from the VOS360 cluster VPC). LRS connects to VOS360 internally via <strong>VPC Peering</strong>. Harmonic publishes each LRS Cloud Source as a private service via an <strong>ILB + PSC Service Attachment</strong>. The customer creates a <strong>PSC Endpoint</strong> in their own VPC — a private IP from their own subnet — and SRT encoders connect to that IP.
    <br><br>
    <strong>Prerequisite:</strong> SRT streams from the customer headend must already be available in the customer's GCP VPC (e.g. via <strong>Google Cloud Interconnect / Direct Connect</strong>). This connectivity is the customer's responsibility. Harmonic's solution begins at the PSC boundary.
    <br><br>
    <strong>Why PSC instead of VPC Peering?</strong> VPC peering bridges two entire networks together, giving broad access between them. PSC provides <strong>controlled, granular connectivity</strong> — Harmonic publishes only specific services (one per LRS Cloud Source), and the customer connects only to those services. Neither side gains visibility into the other's full network.
  </div>

  <!-- Current Architecture Diagram -->
  <div class="section-label">Current Architecture</div>
  <div class="diagram" style="border-color:#ff6b6b40;">
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:16px;">
      <span style="display:inline-block;padding:3px 10px;border-radius:4px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:#ff6b6b;background:#1a0d0d;border:1px solid #3d1a1a;">Current</span>
      <span style="font-size:12px;color:#6b7b8d;">SRT over public internet via corporate firewall</span>
    </div>
    <div class="diagram-row">
      <div class="d-box" style="border-color:#f9ca24;min-width:160px;">
        <div class="d-title" style="color:#f9ca24;">Globo Headend</div>
        <div class="d-sub" style="margin-top:4px;">SRT Encoders</div>
        <div class="d-sub">(10+ services)</div>
        <div class="d-sub" style="margin-top:6px;font-size:10px;color:#6b7b8d;">Private IPs: <code style="color:#c8d6e5;font-size:10px;">10.x.x.x</code></div>
      </div>

      <div style="display:flex;flex-direction:column;align-items:center;gap:4px;">
        <div class="d-arrow">&#10132;</div>
      </div>

      <div class="d-box" style="border-color:#ff6b6b;min-width:170px;">
        <div class="d-title" style="color:#ff6b6b;">Corporate Firewall</div>
        <div class="d-sub" style="margin-top:4px;">NAT + Port Forwarding</div>
        <div class="d-sub" style="margin-top:6px;font-size:10px;line-height:1.6;text-align:left;">
          <span style="color:#ff6b6b;">&#9888;</span> <span style="color:#6b7b8d;">Static public IP required</span><br>
          <span style="color:#ff6b6b;">&#9888;</span> <span style="color:#6b7b8d;">UDP port forwarding per stream</span><br>
          <span style="color:#ff6b6b;">&#9888;</span> <span style="color:#6b7b8d;">NAT translation overhead</span>
        </div>
      </div>

      <div style="display:flex;flex-direction:column;align-items:center;gap:4px;">
        <div class="d-arrow" style="color:#ff6b6b;">&#10132;</div>
        <div class="d-label" style="color:#ff6b6b;background:#1a0d0d;border:1px solid #3d1a1a;">Public Internet</div>
        <div style="font-size:10px;color:#4a5568;">Unpredictable latency<br>&amp; packet loss</div>
      </div>

      <div class="d-box" style="border-color:#6c8cff;min-width:160px;">
        <div class="d-title" style="color:#6c8cff;">LRS Cloud Source</div>
        <div class="d-sub">(Harmonic)</div>
        <div class="d-sub" style="margin-top:4px;font-size:10px;">Public endpoint</div>
        <div class="d-sub" style="font-size:10px;color:#ff6b6b;">&#9888; Exposed to internet</div>
      </div>

      <div style="display:flex;flex-direction:column;align-items:center;gap:4px;">
        <div class="d-arrow">&#10132;</div>
      </div>

      <div class="d-box" style="border-color:#00b894;">
        <div class="d-title" style="color:#00b894;">VOS 360</div>
        <div class="d-sub">Transcoder</div>
      </div>
    </div>

    <div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:18px;justify-content:center;">
      <span style="display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;color:#ff6b6b;background:#1a0d0d;border:1px solid #3d1a1a;">&#9888; Firewall holes required</span>
      <span style="display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;color:#ff6b6b;background:#1a0d0d;border:1px solid #3d1a1a;">&#9888; Public IP exposure</span>
      <span style="display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;color:#ff6b6b;background:#1a0d0d;border:1px solid #3d1a1a;">&#9888; NAT port mapping per stream</span>
      <span style="display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;color:#ff6b6b;background:#1a0d0d;border:1px solid #3d1a1a;">&#9888; Higher SRT latency needed</span>
      <span style="display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;color:#ff6b6b;background:#1a0d0d;border:1px solid #3d1a1a;">&#9888; Packet loss on public path</span>
    </div>
  </div>

  <!-- Target Architecture Diagram -->
  <div class="section-label" style="margin-top:28px;">Target Architecture <span style="font-size:11px;font-weight:400;color:#00b894;">&mdash; with Private Service Connect (Endpoint model)</span></div>
  <div class="diagram" style="border-color:#00b89440;">
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:16px;">
      <span style="display:inline-block;padding:3px 10px;border-radius:4px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:#00b894;background:#0a1f1a;border:1px solid #0a3d2e;">&#10003; Target</span>
      <span style="font-size:12px;color:#6b7b8d;">SRT over Google private backbone via PSC Endpoint</span>
    </div>

    <div style="display:grid;grid-template-columns:auto auto auto auto auto;gap:12px;justify-content:center;justify-items:center;align-items:center;">

      <!-- Customer VPC -->
      <div class="d-box" style="border-color:#f9ca24;min-width:180px;">
        <div class="d-title" style="color:#f9ca24;">Customer VPC</div>
        <div class="d-sub">(Globo &mdash; GCP)</div>
        <div class="d-sub" style="margin-top:6px;text-align:left;font-size:10px;line-height:1.6;">
          <span style="color:#6b7b8d;">Subnet:</span> <code style="color:#f9ca24;font-size:10px;">10.100.0.0/24</code><br>
          <span style="color:#6b7b8d;">Region:</span> <code style="color:#c8d6e5;font-size:10px;">south-america-east1</code>
        </div>
        <div style="margin-top:8px;padding:6px 10px;background:#1f1a0a;border:1px solid #3d2e0a;border-radius:6px;text-align:left;">
          <div style="font-size:10px;font-weight:700;color:#f9ca24;margin-bottom:4px;">PSC Endpoint (per stream)</div>
          <div style="font-size:10px;color:#6b7b8d;">Private IP from customer subnet</div>
          <div style="font-size:10px;color:#4ecdc4;margin-top:2px;">e.g. 10.100.0.2 &mdash; 10.100.0.11</div>
          <div style="font-size:10px;color:#6b7b8d;margin-top:2px;">SRT encoders send here :7086</div>
        </div>
      </div>

      <!-- PSC arrow -->
      <div style="display:flex;flex-direction:column;align-items:center;gap:4px;">
        <div class="d-arrow">&#10132;</div>
        <div class="d-label" style="color:#00b894;background:#0a1f1a;border:1px solid #0a3d2e;">PSC</div>
        <div style="font-size:10px;color:#4a5568;text-align:center;">GCP private<br>backbone</div>
      </div>

      <!-- Harmonic LRS VPC -->
      <div class="d-box" style="border-color:#6c8cff;min-width:200px;">
        <div class="d-title" style="color:#6c8cff;">Harmonic LRS VPC</div>
        <div class="d-sub" style="margin-top:6px;text-align:left;font-size:10px;line-height:1.6;">
          <span style="color:#6b7b8d;">Region:</span> <code style="color:#c8d6e5;font-size:10px;">south-america-east1</code> <span style="color:#00b894;">&#10003; same</span>
        </div>
        <div style="margin-top:8px;padding:6px 10px;background:#121630;border:1px solid #1e3a5f;border-radius:6px;text-align:left;">
          <div style="font-size:10px;font-weight:700;color:#6c8cff;margin-bottom:4px;">Per stream (Harmonic manages)</div>
          <div style="font-size:10px;color:#6b7b8d;">Service Attachment</div>
          <div style="font-size:10px;color:#4a5568;">&#8595;</div>
          <div style="font-size:10px;color:#6b7b8d;">ILB (UDP 7086)</div>
          <div style="font-size:10px;color:#4a5568;">&#8595;</div>
          <div style="font-size:10px;color:#6b7b8d;">LRS VM &mdash; SRT Listener :7086</div>
          <div style="font-size:10px;color:#4a5568;margin-top:2px;">iptables DNAT + SNAT</div>
        </div>
      </div>

      <!-- VPC Peering arrow -->
      <div style="display:flex;flex-direction:column;align-items:center;gap:4px;">
        <div class="d-arrow">&#10132;</div>
        <div class="d-label" style="color:#6c8cff;background:#121630;border:1px solid #1e3a5f;">VPC Peering</div>
        <div style="font-size:10px;color:#4a5568;">Harmonic internal</div>
      </div>

      <!-- VOS 360 -->
      <div class="d-box" style="border-color:#00b894;">
        <div class="d-title" style="color:#00b894;">VOS 360 VPC</div>
        <div class="d-sub">(Harmonic)</div>
        <div class="d-sub" style="margin-top:4px;">Transcoder / Ingest</div>
      </div>

      <!-- Row 2: Direct Connect below Customer VPC -->
      <div style="grid-column:1;display:flex;flex-direction:column;align-items:center;width:100%;">
        <div style="width:2px;height:20px;background:#f9ca24;"></div>
        <div class="d-label" style="color:#f9ca24;background:#1f1a0a;border:1px solid #3d2e0a;">Direct Connect</div>
        <div style="font-size:10px;color:#4a5568;margin:2px 0;">Google Cloud Interconnect</div>
        <div style="width:2px;height:20px;background:#f9ca24;"></div>
        <div class="d-box" style="border-color:#f9ca24;border-style:dashed;width:100%;">
          <div class="d-title" style="color:#f9ca24;">Globo Headend</div>
          <div class="d-sub">On-Premise / Data Centre</div>
          <div class="d-sub" style="margin-top:4px;">SRT Encoders (10+ services)</div>
        </div>
      </div>

    </div>

    <!-- Demarcation -->
    <div style="display:flex;gap:12px;margin-top:20px;">
      <div style="flex:1;padding:10px 14px;background:#1f1a0a;border:1px solid #3d2e0a;border-radius:8px;">
        <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:#f9ca24;margin-bottom:6px;">Customer Responsibility</div>
        <div style="font-size:10px;color:#6b7b8d;line-height:1.6;">
          <span style="color:#f9ca24;">&#9679;</span> Google Cloud Interconnect / Direct Connect<br>
          <span style="color:#f9ca24;">&#9679;</span> Customer VPC, subnets, firewall rules<br>
          <span style="color:#f9ca24;">&#9679;</span> PSC Endpoint creation (one per stream)<br>
          <span style="color:#f9ca24;">&#9679;</span> SRT encoder configuration
        </div>
      </div>
      <div style="flex:1;padding:10px 14px;background:#121630;border:1px solid #1e3a5f;border-radius:8px;">
        <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:#6c8cff;margin-bottom:6px;">Harmonic Responsibility</div>
        <div style="font-size:10px;color:#6b7b8d;line-height:1.6;">
          <span style="color:#6c8cff;">&#9679;</span> LRS VPC &amp; Cloud Source provisioning<br>
          <span style="color:#6c8cff;">&#9679;</span> ILB + PSC Service Attachment per stream<br>
          <span style="color:#6c8cff;">&#9679;</span> PSC NAT subnet per stream<br>
          <span style="color:#6c8cff;">&#9679;</span> Share Service Attachment URI with customer<br>
          <span style="color:#6c8cff;">&#9679;</span> VPC Peering to VOS 360
        </div>
      </div>
    </div>

    <div style="margin-top:16px;padding:10px 14px;background:#1f1a0a;border:1px solid #3d2e0a;border-radius:8px;font-size:11px;color:#6b7b8d;line-height:1.6;">
      <strong style="color:#f9ca24;">Prerequisite &amp; demarcation:</strong> Harmonic assumes SRT sources are <strong style="color:#c8d6e5;">already available in the customer's GCP VPC</strong>. How the customer gets SRT streams from the headend into GCP (e.g. via <strong style="color:#c8d6e5;">Google Cloud Interconnect / Direct Connect</strong>) is <strong style="color:#f9ca24;">purely the customer's responsibility</strong>. The Harmonic solution begins at the <strong style="color:#c8d6e5;">PSC Service Attachment boundary</strong>.
    </div>

    <div style="text-align:center;margin-top:16px;font-size:11px;color:#4a5568;">
      SRT encoders connect to <code style="color:#4ecdc4;font-size:11px;">srt://10.100.0.x:7086</code> &mdash; a private IP from the customer's own subnet. No public internet, no internet NAT.
    </div>
    <div style="text-align:center;margin-top:8px;font-size:11px;color:#4a5568;">
      <strong style="color:#f9ca24;">Key requirement:</strong> The customer subnet and LRS must be in the <strong style="color:#c8d6e5;">same GCP region</strong>.
    </div>

    <div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:18px;justify-content:center;">
      <span style="display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;color:#00b894;background:#0a1f1a;border:1px solid #0a3d2e;">&#10003; No firewall holes</span>
      <span style="display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;color:#00b894;background:#0a1f1a;border:1px solid #0a3d2e;">&#10003; No public IP exposure</span>
      <span style="display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;color:#00b894;background:#0a1f1a;border:1px solid #0a3d2e;">&#10003; No internet NAT</span>
      <span style="display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;color:#00b894;background:#0a1f1a;border:1px solid #0a3d2e;">&#10003; Lower SRT latency</span>
      <span style="display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;color:#00b894;background:#0a1f1a;border:1px solid #0a3d2e;">&#10003; Zero packet loss (private backbone)</span>
    </div>
  </div>

  <!-- Roles -->
  <div class="section-label">Roles &amp; Responsibilities</div>
  <table class="ref-table">
    <tr><th>#</th><th>Action</th><th>Owner</th></tr>
    <tr><td>1</td><td>Deploy LRS Cloud Source VM (with IP forwarding and iptables startup script)</td><td><span class="step-owner owner-harmonic">Harmonic</span></td></tr>
    <tr><td>2</td><td>Create ILB + PSC Service Attachment per stream</td><td><span class="step-owner owner-harmonic">Harmonic</span></td></tr>
    <tr><td>3</td><td>Share Service Attachment URI with customer</td><td><span class="step-owner owner-harmonic">Harmonic</span></td></tr>
    <tr><td>4</td><td>Create PSC Endpoint using the Service Attachment URI</td><td><span class="step-owner owner-customer">Customer</span></td></tr>
    <tr><td>5</td><td>Share PSC Endpoint IP with Harmonic for verification</td><td><span class="step-owner owner-customer">Customer</span></td></tr>
    <tr><td>6</td><td>Configure firewall rules (UDP 7086 egress and ingress)</td><td><span class="step-owner owner-customer">Customer</span></td></tr>
    <tr><td>7</td><td>Configure SRT encoder destination to PSC Endpoint IP:7086</td><td><span class="step-owner owner-customer">Customer</span></td></tr>
  </table>

  <!-- Prerequisites -->
  <div class="section-label">Prerequisites</div>
  <div class="step-card" style="margin-bottom:20px;">
    <ul class="checklist">
      <li>Customer has a GCP VPC with SRT sources available (e.g. via Google Direct Connect from Headend)</li>
      <li>Customer VPC and Harmonic LRS VPC are in the <strong>same GCP region</strong></li>
      <li>Customer has a <strong>subnet</strong> in their VPC in the same region (for PSC Endpoint IPs)</li>
      <li>Customer has <strong>Compute Network Admin</strong> (<code>roles/compute.networkAdmin</code>) IAM role</li>
      <li>Compute Engine API is enabled in the customer's project</li>
      <li>Harmonic has deployed the LRS Cloud Source with IP forwarding enabled</li>
    </ul>
  </div>

  <!-- Step-by-Step Procedure -->
  <div class="section-label">Step-by-Step Procedure</div>
  <div class="step-timeline">

    <!-- Step 1 -->
    <div class="step">
      <div class="step-dot">1</div>
      <div class="step-card" style="border-left:3px solid #6c8cff;">
        <div class="step-header">
          <span class="step-title">Harmonic Deploys LRS Cloud Source</span>
          <span class="step-owner owner-harmonic">Harmonic</span>
        </div>
        <div class="step-desc">
          Harmonic deploys the <strong>LRS Cloud Source VM</strong> via Syndicate. The VM must be created with <strong>IP forwarding enabled</strong> (<code>--can-ip-forward</code>) and a startup script that applies <strong>iptables DNAT + SNAT rules</strong>. These are required because GCP's Internal Passthrough NLB forwards packets to the VM with the destination IP unchanged — the iptables rules handle the address translation at the VM level.
        </div>
        <div class="info-box info-note">
          <strong>LRS development requirement:</strong> <code>--can-ip-forward</code> must be set at VM creation time in Syndicate. The iptables rules are applied via a startup script parameterised with the ILB IP. This is a one-time Syndicate pipeline change that enables all future PSC-connected Cloud Sources.
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-dot">2</div>
      <div class="step-card" style="border-left:3px solid #6c8cff;">
        <div class="step-header">
          <span class="step-title">Harmonic Creates ILB + PSC Service Attachment</span>
          <span class="step-owner owner-harmonic">Harmonic</span>
        </div>
        <div class="step-desc">
          For each LRS Cloud Source, Harmonic creates an <strong>Internal Load Balancer (ILB)</strong> and a <strong>PSC Service Attachment</strong>. The ILB is the frontend entry point inside the Harmonic VPC. The Service Attachment publishes the ILB as a private service that PSC consumers can connect to.
        </div>

        <div class="desc-toggle" onclick="this.classList.toggle('open');this.nextElementSibling.classList.toggle('open');this.querySelector('.toggle-hint').textContent=this.classList.contains('open')?'click to collapse':'click to expand';">
          <span class="arrow">&#9654;</span>
          <span class="toggle-title">gcloud CLI — ILB + Service Attachment</span>
          <span class="toggle-hint">click to expand</span>
        </div>
        <div class="desc-body">
          <div class="code-block"><span class="comment"># 1. Create instance group for the LRS VM</span>
gcloud compute instance-groups unmanaged create <span class="placeholder">pfc01-vm-group</span> \
    <span class="flag">--zone=</span><span class="placeholder">ZONE</span>
gcloud compute instance-groups unmanaged add-instances <span class="placeholder">pfc01-vm-group</span> \
    <span class="flag">--zone=</span><span class="placeholder">ZONE</span> \
    <span class="flag">--instances=</span><span class="placeholder">LRS_VM_NAME</span>

<span class="comment"># 2. Create backend service</span>
gcloud compute backend-services create <span class="placeholder">pfc01-ilb</span> \
    <span class="flag">--region=</span><span class="placeholder">REGION</span> \
    <span class="flag">--protocol=</span><span class="value">UDP</span> \
    <span class="flag">--health-checks=</span><span class="value">psc-health-check</span> \
    <span class="flag">--load-balancing-scheme=</span><span class="value">INTERNAL</span>

<span class="comment"># 3. Create ILB forwarding rule (gets a private IP from LRS subnet)</span>
gcloud compute forwarding-rules create <span class="placeholder">pfc01-ilb-forwarding-rule</span> \
    <span class="flag">--region=</span><span class="placeholder">REGION</span> \
    <span class="flag">--load-balancing-scheme=</span><span class="value">INTERNAL</span> \
    <span class="flag">--backend-service=</span><span class="placeholder">pfc01-ilb</span> \
    <span class="flag">--ports=</span><span class="value">7086</span> \
    <span class="flag">--ip-protocol=</span><span class="value">UDP</span>

<span class="comment"># 4. Create PSC Service Attachment</span>
gcloud compute service-attachments create <span class="placeholder">pfc01-service-attachment</span> \
    <span class="flag">--region=</span><span class="placeholder">REGION</span> \
    <span class="flag">--producer-forwarding-rule=</span><span class="placeholder">pfc01-ilb-forwarding-rule</span> \
    <span class="flag">--connection-preference=</span><span class="value">ACCEPT_MANUAL</span> \
    <span class="flag">--consumer-accept-list=</span><span class="placeholder">CUSTOMER_PROJECT_ID</span>=10 \
    <span class="flag">--nat-subnets=</span><span class="placeholder">psc-nat-subnet-pfc01</span></div>
        </div>

        <div class="info-box info-note" style="margin-top:12px;">
          <strong>Per-stream resources:</strong> Each LRS Cloud Source gets its own ILB, Service Attachment, and PSC NAT subnet. These are independent — a problem with one stream does not affect others.
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-dot">3</div>
      <div class="step-card" style="border-left:3px solid #6c8cff;">
        <div class="step-header">
          <span class="step-title">Harmonic Shares Service Attachment URI</span>
          <span class="step-owner owner-harmonic">Harmonic</span>
        </div>
        <div class="step-desc">
          Harmonic retrieves the <strong>Service Attachment URI</strong> and provides it to the customer. The customer needs this URI to create the PSC Endpoint in their VPC.
        </div>
        <div class="code-block"><span class="comment"># Retrieve the Service Attachment URI</span>
gcloud compute service-attachments describe <span class="placeholder">pfc01-service-attachment</span> \
    <span class="flag">--region=</span><span class="placeholder">REGION</span> \
    <span class="flag">--format=</span><span class="value">"value(selfLink)"</span>

<span class="comment"># Output example:</span>
<span class="value">https://www.googleapis.com/compute/v1/projects/harmonic-lrs-prod/regions/south-america-east1/serviceAttachments/pfc01-service-attachment</span></div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-dot">4</div>
      <div class="step-card" style="border-left:3px solid #f9ca24;">
        <div class="step-header">
          <span class="step-title">Customer Creates PSC Endpoint</span>
          <span class="step-owner owner-customer">Customer</span>
        </div>
        <div class="step-desc">
          The customer creates a <strong>PSC Endpoint</strong> (a forwarding rule) in their VPC using the Service Attachment URI from Step 3. GCP assigns a <strong>private IP from the customer's own subnet</strong> to this endpoint. SRT encoders will connect to this IP.
        </div>

        <div class="desc-toggle" onclick="this.classList.toggle('open');this.nextElementSibling.classList.toggle('open');this.querySelector('.toggle-hint').textContent=this.classList.contains('open')?'click to collapse':'click to expand';">
          <span class="arrow">&#9654;</span>
          <span class="toggle-title">Console Steps</span>
          <span class="toggle-hint">click to expand</span>
        </div>
        <div class="desc-body">
          <div style="font-size:13px;color:#6b7b8d;line-height:1.8;padding:12px 16px;background:#0d1117;border-radius:8px;">
            1. Go to <strong style="color:#c8d6e5;">VPC Network &rarr; Private Service Connect &rarr; Connected endpoints</strong><br>
            2. Click <strong style="color:#c8d6e5;">Connect endpoint</strong><br>
            3. Target: select <strong style="color:#c8d6e5;">Published service</strong><br>
            4. Paste the <strong style="color:#c8d6e5;">Service Attachment URI</strong> from Harmonic<br>
            5. Select <strong style="color:#c8d6e5;">VPC network</strong> and <strong style="color:#c8d6e5;">subnet</strong><br>
            6. IP address: select <strong style="color:#c8d6e5;">Create IP address</strong> (GCP assigns from subnet)<br>
            7. Click <strong style="color:#c8d6e5;">Add endpoint</strong>
          </div>
        </div>

        <div class="desc-toggle" style="margin-top:8px;" onclick="this.classList.toggle('open');this.nextElementSibling.classList.toggle('open');this.querySelector('.toggle-hint').textContent=this.classList.contains('open')?'click to collapse':'click to expand';">
          <span class="arrow">&#9654;</span>
          <span class="toggle-title">gcloud CLI</span>
          <span class="toggle-hint">click to expand</span>
        </div>
        <div class="desc-body">
          <div class="code-block"><span class="comment"># Reserve a private IP from customer subnet</span>
gcloud compute addresses create <span class="placeholder">pfc01-endpoint-ip</span> \
    <span class="flag">--region=</span><span class="placeholder">REGION</span> \
    <span class="flag">--subnet=</span><span class="placeholder">CUSTOMER_SUBNET</span> \
    <span class="flag">--purpose=</span><span class="value">GCE_ENDPOINT</span>

<span class="comment"># Create the PSC Endpoint forwarding rule</span>
gcloud compute forwarding-rules create <span class="placeholder">pfc01-psc-endpoint</span> \
    <span class="flag">--region=</span><span class="placeholder">REGION</span> \
    <span class="flag">--network=</span><span class="placeholder">CUSTOMER_VPC</span> \
    <span class="flag">--address=</span><span class="placeholder">pfc01-endpoint-ip</span> \
    <span class="flag">--target-service-attachment=</span><span class="placeholder">SERVICE_ATTACHMENT_URI</span>

<span class="comment"># Verify connection is ACCEPTED and get the assigned IP</span>
gcloud compute forwarding-rules describe <span class="placeholder">pfc01-psc-endpoint</span> \
    <span class="flag">--region=</span><span class="placeholder">REGION</span> \
    <span class="flag">--format=</span><span class="value">"yaml(IPAddress,pscConnectionStatus)"</span></div>
        </div>

        <div class="info-box info-warn" style="margin-top:12px;">
          <strong>Wait for ACCEPTED:</strong> The endpoint status must show <code>pscConnectionStatus: ACCEPTED</code> before proceeding. If it shows <code>PENDING</code>, Harmonic needs to verify the customer project is in the Service Attachment accept list.
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-dot">5</div>
      <div class="step-card" style="border-left:3px solid #f9ca24;">
        <div class="step-header">
          <span class="step-title">Customer Shares PSC Endpoint IP with Harmonic</span>
          <span class="step-owner owner-customer">Customer</span>
        </div>
        <div class="step-desc">
          The customer provides the <strong>PSC Endpoint IP</strong> assigned in Step 4 to Harmonic. Harmonic uses this to verify end-to-end connectivity from the Harmonic side before the customer configures encoders.
        </div>
        <div class="code-block"><span class="comment"># Get the assigned PSC Endpoint IP</span>
gcloud compute forwarding-rules describe <span class="placeholder">pfc01-psc-endpoint</span> \
    <span class="flag">--region=</span><span class="placeholder">REGION</span> \
    <span class="flag">--format=</span><span class="value">"value(IPAddress)"</span>

<span class="comment"># Example output — provide this to Harmonic:</span>
<span class="value">10.100.0.2</span></div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-dot">6</div>
      <div class="step-card" style="border-left:3px solid #f9ca24;">
        <div class="step-header">
          <span class="step-title">Customer Configures Firewall Rules</span>
          <span class="step-owner owner-customer">Customer</span>
        </div>
        <div class="step-desc">
          The customer creates firewall rules allowing <strong>UDP 7086</strong> traffic to and from the PSC subnet. These rules are <strong>one-time</strong> — they cover all current and future streams on the same subnet, with no changes needed when new streams are added.
        </div>
        <div class="code-block"><span class="comment"># Allow SRT egress to PSC endpoint subnet</span>
gcloud compute firewall-rules create <span class="placeholder">srt-allow-egress</span> \
    <span class="flag">--network=</span><span class="placeholder">CUSTOMER_VPC</span> \
    <span class="flag">--direction=</span><span class="value">EGRESS</span> \
    <span class="flag">--allow=</span><span class="value">udp:7086</span> \
    <span class="flag">--destination-ranges=</span><span class="placeholder">10.100.0.0/24</span>

<span class="comment"># Allow SRT return traffic (NAKs, ACKs from LRS)</span>
gcloud compute firewall-rules create <span class="placeholder">srt-allow-ingress</span> \
    <span class="flag">--network=</span><span class="placeholder">CUSTOMER_VPC</span> \
    <span class="flag">--direction=</span><span class="value">INGRESS</span> \
    <span class="flag">--allow=</span><span class="value">udp:7086</span> \
    <span class="flag">--source-ranges=</span><span class="placeholder">10.100.0.0/24</span></div>
        <div class="info-box info-warn">
          <strong>SRT is bidirectional UDP:</strong> SRT sources are Callers (initiating the connection), but SRT uses UDP which requires both directions to be open. The LRS Listener sends NAKs, ACKs, and retransmitted packets back to the Caller. Both egress and ingress rules are required.
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step">
      <div class="step-dot">7</div>
      <div class="step-card" style="border-left:3px solid #f9ca24;">
        <div class="step-header">
          <span class="step-title">Customer Configures SRT Encoders</span>
          <span class="step-owner owner-customer">Customer</span>
        </div>
        <div class="step-desc">
          Configure each SRT encoder to connect to the LRS Cloud Source using the <strong>PSC Endpoint IP</strong> from Step 4 and port <strong>7086</strong>.
        </div>
        <div class="code-block"><span class="comment"># SRT Encoder Configuration</span>
Mode:        <span class="value">Caller</span>
Destination: <span class="value">10.100.0.2</span>:<span class="value">7086</span>   <span class="comment"># PSC Endpoint IP assigned in Step 4</span>
Protocol:    <span class="value">SRT</span> (over UDP)

<span class="comment"># The LRS Cloud Source is the Listener</span>
<span class="comment"># The SRT encoder is the Caller — it initiates the connection</span>
<span class="comment"># No internet NAT — traffic stays on Google's private backbone</span></div>
        <table class="ref-table" style="margin-top:12px;">
          <tr><th>Parameter</th><th>Value</th><th>Notes</th></tr>
          <tr><td>SRT Mode</td><td><strong style="color:#4ecdc4;">Caller</strong></td><td>Encoder initiates connection to LRS</td></tr>
          <tr><td>Destination IP</td><td><code>10.100.0.x</code></td><td>PSC Endpoint IP assigned by GCP (from customer subnet)</td></tr>
          <tr><td>Destination Port</td><td><code>7086</code></td><td>LRS SRT listener port</td></tr>
          <tr><td>Protocol</td><td>SRT over UDP</td><td>Encrypted, reliable transport</td></tr>
          <tr><td>Latency</td><td><code>120</code>&ndash;<code>200</code> ms</td><td>Can be lowered vs public internet path</td></tr>
        </table>
        <div class="info-box info-success" style="margin-top:12px;">
          <strong>Advantage over corporate firewall:</strong> SRT traffic flows over Google's private backbone (Direct Connect &rarr; customer VPC &rarr; PSC &rarr; LRS VPC) with no internet NAT, no public IP exposure, and lower latency. SRT latency settings can be reduced compared to public internet paths.
        </div>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step">
      <div class="step-dot">8</div>
      <div class="step-card" style="border-left:3px solid #00b894;">
        <div class="step-header">
          <span class="step-title">Verify Connectivity</span>
          <span class="step-owner owner-both">Both</span>
        </div>
        <div class="step-desc">
          Both parties verify the SRT connection is established and streams are flowing.
        </div>
        <ul class="checklist">
          <li>PSC Endpoint status shows <strong>ACCEPTED</strong></li>
          <li>SRT encoder shows <strong>Connected</strong> status</li>
          <li>LRS Cloud Source shows stream as <strong>Active</strong></li>
          <li>SRT statistics show <strong>0% packet loss</strong></li>
          <li>Source IP in LRS shows <code>10.x.x.x</code> (PSC NAT subnet — confirms private path)</li>
          <li>Repeat for all 10 SRT services (PFC01–PFC10)</li>
        </ul>
      </div>
    </div>

  </div>

  <!-- PSC vs VPC Peering comparison -->
  <div class="section-label">PSC vs VPC Peering &mdash; Why PSC?</div>
  <table class="ref-table">
    <tr><th></th><th>VPC Peering</th><th>Private Service Connect (Endpoint)</th></tr>
    <tr><td><strong style="color:#c8d6e5;">Network Access</strong></td><td>Full bidirectional access between VPCs</td><td>Controlled — customer connects only to published services</td></tr>
    <tr><td><strong style="color:#c8d6e5;">Customer Control</strong></td><td>Limited — peer sees entire VPC</td><td>Customer connects to specific service URIs only</td></tr>
    <tr><td><strong style="color:#c8d6e5;">IP Overlap</strong></td><td>CIDR ranges must not overlap</td><td>No overlap restrictions</td></tr>
    <tr><td><strong style="color:#c8d6e5;">Egress Cost (same region)</strong></td><td>No charge</td><td>No charge</td></tr>
    <tr><td><strong style="color:#c8d6e5;">Security</strong></td><td>Firewall rules needed both sides</td><td>Service Attachment accept list + customer firewall rules</td></tr>
    <tr><td><strong style="color:#c8d6e5;">Per-stream isolation</strong></td><td>No — single shared peering</td><td>Yes — each stream has its own ILB + Service Attachment</td></tr>
    <tr><td><strong style="color:#c8d6e5;">Setup Complexity</strong></td><td>Simple</td><td>Moderate (ILB + Service Attachment + PSC Endpoint per stream)</td></tr>
  </table>

  <!-- FAQ -->
  <div class="section-label">Frequently Asked Questions</div>

  <div class="desc-toggle" onclick="this.classList.toggle('open');this.nextElementSibling.classList.toggle('open');this.querySelector('.toggle-hint').textContent=this.classList.contains('open')?'click to collapse':'click to expand';">
    <span class="arrow">&#9654;</span>
    <span class="toggle-title">Does the customer VPC and LRS VPC need to be in the same region?</span>
    <span class="toggle-hint">click to expand</span>
  </div>
  <div class="desc-body">
    <div style="font-size:13px;color:#6b7b8d;line-height:1.7;padding:12px 16px;background:#0d1117;border-radius:8px;border-left:3px solid #4ecdc4;">
      <strong style="color:#c8d6e5;">Yes.</strong> The PSC Endpoint and the Service Attachment must be in the same GCP region. Harmonic deploys the LRS Cloud Source in the same region as the customer's VPC to satisfy this requirement and minimise latency.
    </div>
  </div>

  <div class="desc-toggle" style="margin-top:8px;" onclick="this.classList.toggle('open');this.nextElementSibling.classList.toggle('open');this.querySelector('.toggle-hint').textContent=this.classList.contains('open')?'click to collapse':'click to expand';">
    <span class="arrow">&#9654;</span>
    <span class="toggle-title">Is there NAT involved with PSC?</span>
    <span class="toggle-hint">click to expand</span>
  </div>
  <div class="desc-body">
    <div style="font-size:13px;color:#6b7b8d;line-height:1.7;padding:12px 16px;background:#0d1117;border-radius:8px;border-left:3px solid #4ecdc4;">
      <strong style="color:#c8d6e5;">From the customer's perspective: no.</strong> The PSC Endpoint gets a private IP from the customer's own subnet. SRT encoders connect to this private IP with no internet NAT or public IP involved.<br><br>
      Internally, GCP performs <strong style="color:#c8d6e5;">PSC NAT</strong> transparently as traffic crosses the VPC boundary — this is invisible to both sides and has no impact on SRT behaviour. On the Harmonic LRS VM, two iptables rules (DNAT + SNAT) handle address translation at the VM level due to the passthrough nature of the ILB. This is entirely Harmonic's implementation concern — the customer does not need to configure anything for it.
    </div>
  </div>

  <div class="desc-toggle" style="margin-top:8px;" onclick="this.classList.toggle('open');this.nextElementSibling.classList.toggle('open');this.querySelector('.toggle-hint').textContent=this.classList.contains('open')?'click to collapse':'click to expand';">
    <span class="arrow">&#9654;</span>
    <span class="toggle-title">Can multiple SRT sources share the same PSC Endpoint?</span>
    <span class="toggle-hint">click to expand</span>
  </div>
  <div class="desc-body">
    <div style="font-size:13px;color:#6b7b8d;line-height:1.7;padding:12px 16px;background:#0d1117;border-radius:8px;border-left:3px solid #4ecdc4;">
      <strong style="color:#c8d6e5;">No — each SRT stream requires its own PSC Endpoint.</strong> Each LRS Cloud Source listens on the same port (7086), so each Cloud Source needs its own private IP — which means its own PSC Endpoint.<br><br>
      For 10 SRT services, the customer creates <strong style="color:#c8d6e5;">10 PSC Endpoints</strong>, each connected to its own Harmonic Service Attachment. Each endpoint gets a different IP from the customer's subnet (e.g. 10.100.0.2 through 10.100.0.11). An LRS Cloud Source can accept up to <strong style="color:#f9ca24;">2 SRT connections</strong> on the same IP:port, but strictly for <strong style="color:#f9ca24;">redundancy</strong> (primary + backup encoder for the same stream).
    </div>
  </div>

  <div class="desc-toggle" style="margin-top:8px;" onclick="this.classList.toggle('open');this.nextElementSibling.classList.toggle('open');this.querySelector('.toggle-hint').textContent=this.classList.contains('open')?'click to collapse':'click to expand';">
    <span class="arrow">&#9654;</span>
    <span class="toggle-title">What happens if the customer adds more SRT services later?</span>
    <span class="toggle-hint">click to expand</span>
  </div>
  <div class="desc-body">
    <div style="font-size:13px;color:#6b7b8d;line-height:1.7;padding:12px 16px;background:#0d1117;border-radius:8px;border-left:3px solid #4ecdc4;">
      Harmonic provisions a <strong style="color:#c8d6e5;">new LRS Cloud Source</strong>, creates a new ILB + Service Attachment, and shares the new Service Attachment URI. The customer creates <strong style="color:#c8d6e5;">one new PSC Endpoint</strong> and receives a new private IP. The customer's VPC, subnet, and firewall rules are <strong style="color:#c8d6e5;">unchanged</strong> — no new network infrastructure is needed on the customer side.
    </div>
  </div>

  <div class="desc-toggle" style="margin-top:8px;" onclick="this.classList.toggle('open');this.nextElementSibling.classList.toggle('open');this.querySelector('.toggle-hint').textContent=this.classList.contains('open')?'click to collapse':'click to expand';">
    <span class="arrow">&#9654;</span>
    <span class="toggle-title">Can the customer bypass PSC by using Direct Connect to push SRT directly to LRS?</span>
    <span class="toggle-hint">click to expand</span>
  </div>
  <div class="desc-body">
    <div style="font-size:13px;color:#6b7b8d;line-height:1.7;padding:12px 16px;background:#0d1117;border-radius:8px;border-left:3px solid #4ecdc4;">
      <strong style="color:#c8d6e5;">No.</strong> Google Cloud Interconnect (Direct Connect) terminates in the <strong style="color:#c8d6e5;">customer's own GCP VPC</strong> — it cannot connect directly to Harmonic's LRS VPC. The customer's Direct Connect creates a private link from the headend into the customer's own GCP project only — it does not extend into any other organisation's VPC.<br><br>
      Since LRS runs in <strong style="color:#6c8cff;">Harmonic's dedicated VPC</strong> (a separate GCP project), the SRT traffic must still cross a VPC boundary. There are only two options for this:<br>
      &bull; <strong style="color:#6c8cff;">VPC Peering</strong> — bridges the entire customer VPC with the entire LRS VPC. Simple but gives broad mutual visibility.<br>
      &bull; <strong style="color:#00b894;">PSC (Private Service Connect)</strong> — Harmonic publishes only specific services; the customer connects only to those. Neither side sees the other's full network.<br><br>
      <strong style="color:#c8d6e5;">In short:</strong> Direct Connect solves the <em>headend-to-GCP</em> problem. PSC solves the <em>customer-VPC-to-LRS-VPC</em> problem. Both are needed.
    </div>
  </div>

  <!-- Quick Reference -->
  <div class="section-label">Quick Reference &mdash; URLs &amp; Commands</div>
  <table class="ref-table">
    <tr><th>Resource</th><th>Format / Command</th></tr>
    <tr>
      <td>Service Attachment URI</td>
      <td><code>projects/{LRS_PROJECT}/regions/{REGION}/serviceAttachments/{NAME}</code></td>
    </tr>
    <tr>
      <td>Create PSC Endpoint address</td>
      <td><code>gcloud compute addresses create {NAME} --subnet={SUBNET} --purpose=GCE_ENDPOINT</code></td>
    </tr>
    <tr>
      <td>Create PSC Endpoint forwarding rule</td>
      <td><code>gcloud compute forwarding-rules create {NAME} --target-service-attachment={SA_URI}</code></td>
    </tr>
    <tr>
      <td>Check PSC Endpoint status</td>
      <td><code>gcloud compute forwarding-rules describe {NAME} --format="yaml(IPAddress,pscConnectionStatus)"</code></td>
    </tr>
    <tr>
      <td>SRT Connection String</td>
      <td><code>srt://{PSC_ENDPOINT_IP}:7086?mode=caller</code></td>
    </tr>
    <tr>
      <td>Google Docs: PSC Published Services</td>
      <td><a href="https://cloud.google.com/vpc/docs/private-service-connect#service-attachments" target="_blank" style="color:#4ecdc4;">cloud.google.com/vpc/docs/private-service-connect#service-attachments</a></td>
    </tr>
    <tr>
      <td>Google Docs: PSC Endpoints</td>
      <td><a href="https://cloud.google.com/vpc/docs/private-service-connect#endpoints" target="_blank" style="color:#4ecdc4;">cloud.google.com/vpc/docs/private-service-connect#endpoints</a></td>
    </tr>
  </table>

</div>

<div class="footer">
  LRS via Private Service Connect &mdash; Customer Setup Guide (Endpoint model)
</div>

</body>
</html>
